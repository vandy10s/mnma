library(mnma)
library(mnma)
library(mnma)
example(mnma.model)
res <- mnma.run(data, n.iter=1500, n.burnin=500)
class(res)
res$summary
library(mnma)
library(mnma)
library(mnma)
library(mnma)
library(mnma)
library(mnma)
library(mnma)
library(mnma)
library(mnma)
library(mnma)
library(mnma)
library(mnma)
library(mnma)
library(mnma)
library(mnma)
example(mnma.model)
library(mnma)
library(mnma)
help(mnma.run)
library(mnma)
help(mnma.run)
library(mnma)
library(mnma)
library(mnma)
devtools::build_win()
devtools::use_travis()
devtools::use_travis()
devtools::check()
library(mnma)
devtools:::use_readme_rmd()
help(mnma.model)
help(mnma.run)
library(mnma)
library(mnma)
library(mnma)
############################################################
# To check the MSE and Bias of Univariate Model
# Each treatment group maintains the same number 100 for each outcome.
############################################################
library(R2OpenBUGS)# package for running WinBUGS from R
#library(R2WinBUGS)
library(BRugs)
library(MASS)     ## for the use of mvrnorm
library(copula)
library(base)     ## use the function "pro.time " to determine how much running time (in seconds)
library(plyr)
rm(list = ls())
setwd("C:/Users/dufreine/Dropbox/@NMA/task_PDD")
data <- read.table("data/basic pdd.csv", header=TRUE)
# sort based on the number of arms
not  <- data$T3; not[is.na(not)] <- 0
data <- data[order(not),]
#net.data <-  write.csv(data,"data/pdd base network.csv")
# Assign the dataset
dat1<-data[,c(1:6,25:27)]   ;
dat2<-data[,c(7:12,25:27)]  ;
dat3<-data[,c(13:18,25:27)] ;
dat4<-data[,c(19:24,25:27)] ;
NS<-ns<-Ns<-nrow(data)
N2h<- sum(is.na(data$T3))
NT=10
dat1
outcome1 <- data[,1:6]
outcome2 <- data[,7:12]
TX <- data[,25:27]
dat <- mnma.model(outcome1,outcome2,TX, ref=1, parameters="simple")
dat
res <- mnma.run(dat, n.iter=3000, n.burnin=1000)
res$summary
res1 <- unma.run(dat, n.iter=3000, n.burnin=1000)
res1$outcome1$summary
res1$outcome2$summary
library(mnma)
res <- mnma.run(dat, n.iter=30000, n.burnin=5000)
res$summary
res1 <- unma.run(dat, n.iter=30000, n.burnin=5000)
res1$outcome1$summary
res1$outcome2$summary
outcome1 <- data[,1:6]
outcome2 <- data[,7:12]
outcome2 <- data[,13:18]
TX       <- data[,25:27]
dat <- mnma.model(outcome1,outcome2,TX, ref=1, parameters="simple")
dat
res <- mnma.run(dat, n.iter=30000, n.burnin=5000)
res$summary
outcome2 <- data[,19:24]
TX       <- data[,25:27]
dat <- mnma.model(outcome1,outcome2,TX, ref=1, parameters="simple")
dat
res <- mnma.run(dat, n.iter=30000, n.burnin=5000)
res$summary
outcome1 <- data[,7:12]
outcome2 <- data[,13:18]
dat <- mnma.model(outcome1,outcome2,TX, ref=1, parameters="simple")
dat
res <- mnma.run(dat, n.iter=30000, n.burnin=5000)
res$summary
res1 <- unma.run(dat, n.iter=30000, n.burnin=5000)
res1$outcome1$summary
res1$outcome2$summary
outcome1
outcome1 <- data[,1:6]
outcome2 <- data[,7:12]
outcome1
outcome1[15;22,] <- c(NA,NA,NA,NA,NA,NA)
outcome1[15:22,] <- c(NA,NA,NA,NA,NA,NA)
dat <- mnma.model(outcome1,outcome2,TX, ref=1, parameters="simple")
dat
res <- mnma.run(dat, n.iter=30000, n.burnin=5000)
res$summary
res1 <- unma.run(dat, n.iter=30000, n.burnin=5000)
res1$outcome1$summary
res1$outcome2$summary
library(mnma)
library(mnma)
acute
load("C:/Users/dufreine/Dropbox/Rpackages/mnma/data/acute.RData")
acute
library(mnma)
library(mnma)
help(acute)
library(mnma)
help(acute)
library(mnma)
library(mnma)
acute
library(mnma)
library(mnma)
data(acute)
acute
help(acute)
library(mnma)
help(acute)
library(mnma)
library(mnma)
help(mnma.run)
library(mnma)
help(mnma.run)
library(mnma)
help(mnma.run)
help(unma.run)
example(mnma)
example(mnma.model)
res <- unma.run(data)
res$outcome1$summary
names(res)
names(res$outcome1)
help(bugs)
library(mnma)
help(bugs)
example(mnma.run)
example(mnma.example)
example(mnma.model)
res <- unma.run(data)
res
library(mnma)
example(mnma.model)
res <- mnma.run(data)
res
names(res)
help(mnma.run)
help(mnma.run)
library(mnma)
help(mnma.run)
library(mnma)
help(mnma.run)
library(mnma)
library(mnma)
help(mnma.run)
library(mnma)
help(mnma.run)
library(mnma)
help(mnma.run)
library(mnma)
help(mnma.run)
library(mnma)
help(mnma.run)
library(mnma)
help(mnma.run)
library(mnma)
help(mnma.run)
library(mnma)
library(mnma)
library(mnma)
library(mnma)
help(mnma.run)
help(acute)
library(mnma)
library(mnma)
help(acute)
library(mnma)
help(acute)
library(mnma)
library(mnma)
help(acute)
help(mnma.model)
library(mnma)
help(mnma.model)
library(mnma)
library(mnma)
library(mnma)
help(mnma.model)
library(mnma)
help(unma.run)
help(mnma.run)
library(mnma)
help(unma.run)
library(mnma)
help(unma.run)
help(mnma.run)
library(mnma)
example(mnma.model)
help(mnma.run)
res <- mnma.run(data, n.iter=3000, n.burnin=1000)
res$summary
class(res)
res <- unma.run(data, n.iter=3000, n.burnin=1000)
class(res)
res
res$outcome1
names(res$outcome1)
library(mnma)
example(mnma.model)
help(mnma.run)
res <- mnma.run(data, n.iter=3000, n.burnin=1000)
names(res)
res$summary
library(mnma)
example(mnma.model)
res <- mnma.run(data, n.iter=3000, n.burnin=1000)
res$summary
help("mnma.run")
library(mnma)
library(mnma)
library(mnma)
library(mnma)
setwd("C:/Users/dufreine/Dropbox/@NMA/task_sample size acute group")
setwd("C:/Users/dufreine/Dropbox/@NMA/task_sample size acute group")
setwd("C:/Users/ilsan/Dropbox/@NMA/task_sample size acute group")
rm(list = ls())
setwd("C:/Users/dufreine/Dropbox/@NMA/task_sample size acute group")
rm(list = ls())
library(mnma)
acute
tmp <- acute[,13:15]
tmp
tmp <- acute[,16:18]
tmp
library(mnma)
tmp <- acute[,16:18]
tmp[tmp=="Placebo"] <- 1
tmp[tmp=="Paliperidone"] <- 2
tmp[tmp=="Haloperidol"] <- 2
tmp[tmp=="Olanzapine"] <- 3
tmp[tmp=="Quetipaine"] <- 3
tmp[tmp=="Aripiprazole"] <- 3
tmp[tmp=="Ziprasidone"] <- 3
tmp[tmp=="Asenapine"] <- 3
tmp[tmp=="Divalproex"] <- 4
tmp[tmp=="Carbamazpine"] <- 4
tmp[tmp=="Lamotrigine"] <- 4
tmp[tmp=="Topiramate"] <- 4
tmp[tmp=="Gabapentin"] <- 4
tmp[tmp=="Lithium"] <- 5
tmp
trt <- tmp
acute[,16:18]
tmp[tmp=="Placebo"] <- "Placebo"
tmp <- acute[,16:18]
tmp[tmp=="Placebo"] <- "Placebo"
tmp[tmp=="Paliperidone"] <- "Typicals"
tmp[tmp=="Haloperidol"] <- "Typicals"
tmp[tmp=="Olanzapine"] <- "Atypicals"
tmp[tmp=="Quetipaine"] <- "Atypicals"
tmp[tmp=="Aripiprazole"] <- "Atypicals"
tmp[tmp=="Ziprasidone"] <- "Atypicals"
tmp[tmp=="Asenapine"] <- "Atypicals"
tmp[tmp=="Divalproex"] <- "ACV"
tmp[tmp=="Carbamazpine"] <- "ACV"
tmp[tmp=="Lamotrigine"] <- "ACV"
tmp[tmp=="Topiramate"] <- "ACV"
tmp[tmp=="Gabapentin"] <- "ACV"
tmp[tmp=="Lithium"] <- "Lithium"
tmp
treatment <- tmp
cbind(acute[,16:18],treatment)
data<-read.table("data/basic acute.csv")
txnum <- treatment
tmp <- acute[,16:18]
tmp[tmp=="Placebo"] <- "Placebo"
tmp[tmp=="Paliperidone"] <- "Typicals"
tmp[tmp=="Haloperidol"] <- "Typicals"
tmp[tmp=="Olanzapine"] <- "Atypicals"
tmp[tmp=="Quetipaine"] <- "Atypicals"
tmp[tmp=="Aripiprazole"] <- "Atypicals"
tmp[tmp=="Ziprasidone"] <- "Atypicals"
tmp[tmp=="Asenapine"] <- "Atypicals"
tmp[tmp=="Divalproex"] <- "ACV"
tmp[tmp=="Carbamazpine"] <- "ACV"
tmp[tmp=="Lamotrigine"] <- "ACV"
tmp[tmp=="Topiramate"] <- "ACV"
tmp[tmp=="Gabapentin"] <- "ACV"
tmp[tmp=="Lithium"] <- "Lithium"
tmp
treatment <- tmp
txnum <- treatment
txnum
tmp <- txnum
txnum <- treatment
tmp <- txnum
tmp[tmp=="Placebo"] <- 1
tmp[tmp=="Typicals"] <- 2
tmp[tmp=="Atypicals"] <- 3
tmp[tmp=="ACV"] <- 4
tmp[tmp=="Lithium"] <- 5
tmp
txnum <- tmp
cbind(acute[,1:12],txnum, treatment,acute[,16:18])
data <- cbind(acute[,1:12],txnum, treatment,acute[,16:18])
data
colnames(tmp) <- c("T1","T2","T3")
tmp
txnum <- treatment
tmp <- txnum
tmp[tmp=="Placebo"] <- 1
tmp[tmp=="Typicals"] <- 2
tmp[tmp=="Atypicals"] <- 3
tmp[tmp=="ACV"] <- 4
tmp[tmp=="Lithium"] <- 5
colnames(tmp) <- c("T1","T2","T3")
tmp
txnum <- tmp
data <- cbind(acute[,1:12],txnum, treatment,acute[,16:18])
data
data[,13]
data$T1 <- as.numeric(data$T1)
data$T2 <- as.numeric(data$T2)
data$T3 <- as.numeric(data$T3)
data$T1
data$T2
data$T1 == data$T1
data$T1 == data$T2
sum(data$T1 == data$T2)
data$T1 == data$T2
sum(data$T1 == data$T2)
ind <- data$T1 == data$T2
sum(data$T1 == data$T2)
!ind
# Combine the data
data <- cbind(acute[,1:12],txnum, treatment,acute[,16:18])
# As numeric
data$T1 <- as.numeric(data$T1)
data$T2 <- as.numeric(data$T2)
data$T3 <- as.numeric(data$T3)
# Remove same group comparisons
ind <- data$T1 == data$T2
sum(data$T1 == data$T2)
data <- data[!ind,]
data[,13:15]
data[45:63,]
if (data$T2==data$T3){
data[,2] <- data[,2] + data[,3]
data[,5] <- data[,5] + data[,6]
data[,3] <- data[,6] <- data$T3 <- NA
}
data$T2==data$T3
for (i in 1:nrow(data)){
if (data$T2[i]==data$T3[i]){
data[i,2] <- data[i,2] + data[i,3]
data[i,5] <- data[i,5] + data[i,6]
data[i,3] <- data[i,6] <- data$T3[i] <- NA
}
}
for (i in 48:nrow(data)){
if (data$T2[i]==data$T3[i]){
data[i,2] <- data[i,2] + data[i,3]
data[i,5] <- data[i,5] + data[i,6]
data[i,3] <- data[i,6] <- data$T3[i] <- NA
}
}
data
data[45:63,]
outcome1 <- data[,c(1:6)]     # outcome1
outcome2 <- data[,c(7:12)]    # outcome2
TX    <- data[,13:15]
data <- mnma.model(data1,data2,TX, noa="3arm",ref=1, parameters="detail")
data
data <- mnma.model(outcome1,outcome2,TX, noa="3arm",ref=1, parameters="detail")
data
res <- mnma.run(data, n.iter=1500, n.burnin=500)
class(res)
res$summary
res <- mnma.run(data, n.iter=50000, n.burnin=5000)
class(res)
res$summary
round(res$summary,4)
res <- unma.run(data, n.iter=50000, n.burnin=5000)
res$outcome1$summary
round(res$outcome1$summary,4)
remove.packages('mnma')
library(remotes)
remotes::install_github("vandy10s/mnma.package")
remotes::install_github("vandy10s/mnma")
library(mnma)
example(mnma.model)
example(mnma.model)
library(mnma)
example(mnma.model)
